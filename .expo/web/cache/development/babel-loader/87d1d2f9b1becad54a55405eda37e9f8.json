{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar loginData = function loginData(value) {\n  var jsonVal;\n  return _regeneratorRuntime.async(function loginData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          jsonVal = JSON.stringify(value);\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem('@spacebook_details', jsonVal));\n\n        case 4:\n          _context.next = 9;\n          break;\n\n        case 6:\n          _context.prev = 6;\n          _context.t0 = _context[\"catch\"](0);\n          console.error(_context.t0);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 6]], Promise);\n};\n\nvar Login = function (_Component) {\n  _inherits(Login, _Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _this.login = function _callee2() {\n      var _this$state, email, password, navigation;\n\n      return _regeneratorRuntime.async(function _callee2$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _this$state = _this.state, email = _this$state.email, password = _this$state.password;\n              navigation = _this.props.navigation;\n              fetch('http://localhost:3333/api/1.0.0/login', {\n                method: 'post',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  email: email,\n                  password: password\n                })\n              }).then(function (response) {\n                return response.json();\n              }).then(function _callee(responseJson) {\n                return _regeneratorRuntime.async(function _callee$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        console.log(responseJson);\n                        loginData(responseJson);\n                        _context2.next = 4;\n                        return _regeneratorRuntime.awrap(AsyncStorage.setItem('@session_token', responseJson.token));\n\n                      case 4:\n                        _context2.next = 6;\n                        return _regeneratorRuntime.awrap(AsyncStorage.setItem('@user_id', responseJson.id.toString()));\n\n                      case 6:\n                        navigation.navigate('home');\n\n                      case 7:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      email: 'louisnokes3@gmail.com',\n      password: 'password123'\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password;\n      var navigation = this.props.navigation;\n      return _jsxs(ScrollView, {\n        style: styles.backgrd,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: \" Spacebook \"\n        }), _jsx(TextInput, {\n          placeholder: \"Email\",\n          onChangeText: function onChangeText(email) {\n            return _this2.setState({\n              email: email\n            });\n          },\n          value: email,\n          style: styles.input\n        }), _jsx(TextInput, {\n          placeholder: \"Password\",\n          onChangeText: function onChangeText(password) {\n            return _this2.setState({\n              password: password\n            });\n          },\n          value: password,\n          secureTextEntry: true,\n          style: styles.input\n        }), _jsx(TouchableOpacity, {\n          style: styles.loginPageBtn,\n          onPress: function onPress() {\n            _this2.login();\n          },\n          children: _jsx(Text, {\n            style: {\n              color: 'white'\n            },\n            children: \"LOGIN\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.loginPageBtn,\n          onPress: function onPress() {\n            navigation.navigate('signup');\n          },\n          children: _jsx(Text, {\n            style: {\n              color: 'white'\n            },\n            children: \"SIGN UP\"\n          })\n        })]\n      });\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar styles = StyleSheet.create({\n  title: {\n    textAlign: 'center',\n    fontWeight: 'bold',\n    fontSize: 30,\n    marginTop: 50\n  },\n  input: {\n    height: 40,\n    margin: 5,\n    borderWidth: 1,\n    padding: 10,\n    backgroundColor: '#FFFFFF'\n  },\n  loginPageBtn: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#8b9dc3',\n    padding: 10,\n    margin: 5,\n    borderRadius: 10\n  },\n  backgrd: {\n    backgroundColor: '#3b5998'\n  }\n});\nexport default Login;","map":{"version":3,"sources":["C:/Users/louis/Desktop/Spacebook/screens/LoginScreen.js"],"names":["React","Component","AsyncStorage","loginData","value","jsonVal","JSON","stringify","setItem","console","error","Login","props","login","state","email","password","navigation","fetch","method","headers","body","then","response","json","responseJson","log","token","id","toString","navigate","catch","styles","backgrd","title","setState","input","loginPageBtn","color","StyleSheet","create","textAlign","fontWeight","fontSize","marginTop","height","margin","borderWidth","padding","backgroundColor","alignItems","justifyContent","borderRadius"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Text,\n  ScrollView,\n  StyleSheet,\n  TextInput,\n  TouchableOpacity,\n} from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst loginData = async (value) => {\n  try {\n    const jsonVal = JSON.stringify(value);\n    await AsyncStorage.setItem('@spacebook_details', jsonVal);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: 'louisnokes3@gmail.com',\n      password: 'password123',\n    };\n  }\n\n  login = async () => {\n    // Validation here\n    const { email, password } = this.state;\n    const { navigation } = this.props;\n    fetch('http://localhost:3333/api/1.0.0/login', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        email,\n        password,\n      }),\n    })\n      .then((response) => response.json())\n      .then(async (responseJson) => {\n        console.log(responseJson);\n        loginData(responseJson);\n        await AsyncStorage.setItem('@session_token', responseJson.token);\n        await AsyncStorage.setItem('@user_id', responseJson.id.toString());\n        navigation.navigate('home');\n      })\n\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    const { email, password } = this.state;\n    const { navigation } = this.props;\n    return (\n      <ScrollView style={styles.backgrd}>\n        <Text style={styles.title}> Spacebook </Text>\n        <TextInput\n          placeholder=\"Email\"\n          onChangeText={(email) => this.setState({ email })}\n          value={email}\n          style={styles.input}\n        />\n        <TextInput\n          placeholder=\"Password\"\n          onChangeText={(password) => this.setState({ password })}\n          value={password}\n          secureTextEntry\n          style={styles.input}\n        />\n        <TouchableOpacity\n          style={styles.loginPageBtn}\n          onPress={() => {\n            this.login();\n          }}\n        >\n          <Text style={{ color: 'white' }}>LOGIN</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={styles.loginPageBtn}\n          onPress={() => {\n            navigation.navigate('signup');\n          }}\n        >\n          <Text style={{ color: 'white' }}>SIGN UP</Text>\n        </TouchableOpacity>\n      </ScrollView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  title: {\n    textAlign: 'center',\n    fontWeight: 'bold',\n    fontSize: 30,\n    marginTop: 50,\n  },\n  input: {\n    height: 40,\n    margin: 5,\n    borderWidth: 1,\n    padding: 10,\n    backgroundColor: '#FFFFFF',\n  },\n  loginPageBtn: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#8b9dc3',\n    padding: 10,\n    margin: 5,\n    borderRadius: 10,\n  },\n  backgrd: {\n    backgroundColor: '#3b5998',\n  },\n});\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}