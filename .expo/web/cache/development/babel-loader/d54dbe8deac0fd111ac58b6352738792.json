{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar loginData = function loginData(value) {\n  var jsonVal;\n  return _regeneratorRuntime.async(function loginData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          jsonVal = JSON.stringify(value);\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem('@spacebook_details', jsonVal));\n\n        case 4:\n          _context.next = 9;\n          break;\n\n        case 6:\n          _context.prev = 6;\n          _context.t0 = _context[\"catch\"](0);\n          console.error(_context.t0);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 6]], Promise);\n};\n\nvar Login = function (_Component) {\n  _inherits(Login, _Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _this.login = function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", fetch(\"http://10.0.2.2:3333/api/1.0.0/login\", {\n                method: 'post',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  email: _this.state.email,\n                  password: _this.state.password\n                })\n              }).then(function (response) {\n                return response.json();\n              }).then(function _callee(responseJson) {\n                return _regeneratorRuntime.async(function _callee$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        console.log(responseJson);\n                        loginData(responseJson);\n                        _context2.next = 4;\n                        return _regeneratorRuntime.awrap(AsyncStorage.setItem('@session_token', responseJson.token));\n\n                      case 4:\n                        _context2.next = 6;\n                        return _regeneratorRuntime.awrap(AsyncStorage.setItem('@user_id', responseJson.id.toString()));\n\n                      case 6:\n                        _this.props.navigation.navigate(\"home\");\n\n                      case 7:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              }).catch(function (error) {\n                console.log(error);\n              }));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _jsxs(ScrollView, {\n        children: [_jsx(TextInput, {\n          placeholder: \"Email\",\n          onChangeText: function onChangeText(email) {\n            return _this2.setState({\n              email: email\n            });\n          },\n          value: this.state.email,\n          style: styles.input\n        }), _jsx(TextInput, {\n          placeholder: \"Password\",\n          onChangeText: function onChangeText(password) {\n            return _this2.setState({\n              password: password\n            });\n          },\n          value: this.state.password,\n          secureTextEntry: true,\n          style: styles.input\n        }), _jsx(TouchableOpacity, {\n          style: styles.loginBtn,\n          onPress: function onPress() {\n            _this2.login();\n          },\n          children: _jsx(Text, {\n            style: {\n              color: 'black'\n            },\n            children: \"LOGIN\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.signupBtn,\n          onPress: function onPress() {\n            _this2.props.navigation.navigate(\"signup\");\n          },\n          children: _jsx(Text, {\n            style: {\n              color: 'black'\n            },\n            children: \"SIGN UP\"\n          })\n        })]\n      });\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar styles = StyleSheet.create({\n  input: {\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n    margin: 5\n  },\n  loginBtn: {\n    alignItems: \"center\",\n    backgroundColor: \"#7649fe\",\n    padding: 10,\n    margin: 5,\n    borderWidth: 2\n  },\n  signupBtn: {\n    alignItems: \"center\",\n    padding: 10\n  }\n});\nexport default Login;","map":{"version":3,"sources":["C:/Users/louis/Desktop/Spacebook/screens/LoginScreen.js"],"names":["React","Component","AsyncStorage","loginData","value","jsonVal","JSON","stringify","setItem","console","error","Login","props","login","fetch","method","headers","body","email","state","password","then","response","json","responseJson","log","token","id","toString","navigation","navigate","catch","setState","styles","input","loginBtn","color","signupBtn","StyleSheet","create","height","margin","borderWidth","padding","alignItems","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Text, ScrollView, StyleSheet, TextInput, TouchableOpacity, Alert, ToastAndroid } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst loginData = async (value) => {\n    try {\n        const jsonVal = JSON.stringify(value)\n        await AsyncStorage.setItem('@spacebook_details', jsonVal)\n    } catch (error) {\n        console.error(error);\n    }\n}\n\nclass Login extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            email: \"\",\n            password: \"\",\n        }\n    }\n\n    login = async () => {\n\n        //Validation here...\n\n        return fetch(\"http://10.0.2.2:3333/api/1.0.0/login\", {\n            method: 'post',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                email: this.state.email,\n                password: this.state.password\n            })\n        })\n            .then((response) => response.json())\n            .then(async (responseJson) => {\n                console.log(responseJson);\n                loginData(responseJson);\n                await AsyncStorage.setItem('@session_token', responseJson.token);\n                await AsyncStorage.setItem('@user_id', responseJson.id.toString());\n                this.props.navigation.navigate(\"home\");\n            })\n\n            .catch((error) => {\n                console.log(error);\n            })\n    }\n\n\n\n    render() {\n        return (\n            <ScrollView>\n                <TextInput\n                    placeholder='Email'\n                    onChangeText={(email) => this.setState({ email })}\n                    value={this.state.email}\n                    style={styles.input}\n                />\n                <TextInput\n                    placeholder='Password'\n                    onChangeText={(password) => this.setState({ password })}\n                    value={this.state.password}\n                    secureTextEntry\n                    style={styles.input}\n                />\n                <TouchableOpacity\n                    style={styles.loginBtn}\n                    onPress={() => { this.login() }}\n                >\n                    <Text style={{ color: 'black' }}>LOGIN</Text>\n                </TouchableOpacity>\n                <TouchableOpacity\n                    style={styles.signupBtn}\n                    onPress={() => { this.props.navigation.navigate(\"signup\") }}\n                >\n                    <Text style={{ color: 'black' }}>SIGN UP</Text>\n                </TouchableOpacity>\n            </ScrollView >\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    input: {\n        height: 40,\n        margin: 12,\n        borderWidth: 1,\n        padding: 10,\n        margin: 5\n    },\n    loginBtn: {\n        alignItems: \"center\",\n        backgroundColor: \"#7649fe\",\n        padding: 10,\n        margin: 5,\n        borderWidth: 2\n    },\n    signupBtn: {\n        alignItems: \"center\",\n        padding: 10,\n    }\n\n});\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}