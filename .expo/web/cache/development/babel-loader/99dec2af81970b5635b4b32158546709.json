{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar loginData = function loginData(value) {\n  var jsonVal;\n  return _regeneratorRuntime.async(function loginData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          jsonVal = JSON.stringify(value);\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem('@spacebook_details', jsonVal));\n\n        case 4:\n          _context.next = 9;\n          break;\n\n        case 6:\n          _context.prev = 6;\n          _context.t0 = _context[\"catch\"](0);\n          console.error(_context.t0);\n\n        case 9:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 6]], Promise);\n};\n\nvar Login = function (_Component) {\n  _inherits(Login, _Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _this.login = function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", fetch('http://10.0.2.2:3333/api/1.0.0/login', {\n                method: 'post',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  email: _this.state.email,\n                  password: _this.state.password\n                })\n              }).then(function (response) {\n                return response.json();\n              }).then(function _callee(responseJson) {\n                return _regeneratorRuntime.async(function _callee$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        console.log(responseJson);\n                        loginData(responseJson);\n                        _context2.next = 4;\n                        return _regeneratorRuntime.awrap(AsyncStorage.setItem('@session_token', responseJson.token));\n\n                      case 4:\n                        _context2.next = 6;\n                        return _regeneratorRuntime.awrap(AsyncStorage.setItem('@user_id', responseJson.id.toString()));\n\n                      case 6:\n                        _this.props.navigation.navigate('Home');\n\n                      case 7:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              }).catch(function (error) {\n                console.log(error);\n              }));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      email: '',\n      password: ''\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _jsxs(ScrollView, {\n        children: [_jsx(TextInput, {\n          placeholder: \"Email\",\n          onChangeText: function onChangeText(email) {\n            return _this2.setState({\n              email: email\n            });\n          },\n          value: this.state.email,\n          style: styles.input\n        }), _jsx(TextInput, {\n          placeholder: \"Password\",\n          onChangeText: function onChangeText(password) {\n            return _this2.setState({\n              password: password\n            });\n          },\n          value: this.state.password,\n          secureTextEntry: true,\n          style: styles.input\n        }), _jsx(TouchableOpacity, {\n          style: styles.loginBtn,\n          onPress: function onPress() {\n            _this2.login();\n          },\n          children: _jsx(Text, {\n            style: {\n              color: 'black'\n            },\n            children: \"LOGIN\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.signupBtn,\n          onPress: function onPress() {\n            _this2.props.navigation.navigate('signup');\n          },\n          children: _jsx(Text, {\n            style: {\n              color: 'black'\n            },\n            children: \"SIGN UP\"\n          })\n        })]\n      });\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar styles = StyleSheet.create({\n  input: {\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n    margin: 5\n  },\n  loginBtn: {\n    alignItems: 'center',\n    backgroundColor: '#7649fe',\n    padding: 10,\n    margin: 5,\n    borderWidth: 2\n  },\n  signupBtn: {\n    alignItems: 'center',\n    padding: 10\n  }\n});\nexport default Login;","map":{"version":3,"sources":["C:/Users/louis/Desktop/Spacebook/screens/LoginScreen.js"],"names":["React","Component","AsyncStorage","loginData","value","jsonVal","JSON","stringify","setItem","console","error","Login","props","login","fetch","method","headers","body","email","state","password","then","response","json","responseJson","log","token","id","toString","navigation","navigate","catch","setState","styles","input","loginBtn","color","signupBtn","StyleSheet","create","height","margin","borderWidth","padding","alignItems","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Text,\n  ScrollView,\n  StyleSheet,\n  TextInput,\n  TouchableOpacity,\n  Alert,\n  ToastAndroid,\n} from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst loginData = async (value) => {\n  try {\n    const jsonVal = JSON.stringify(value);\n    await AsyncStorage.setItem('@spacebook_details', jsonVal);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      password: '',\n    };\n  }\n\n  login = async () => {\n    //Validation here...\n\n    return fetch('http://10.0.2.2:3333/api/1.0.0/login', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        email: this.state.email,\n        password: this.state.password,\n      }),\n    })\n      .then((response) => response.json())\n      .then(async (responseJson) => {\n        console.log(responseJson);\n        loginData(responseJson);\n        await AsyncStorage.setItem('@session_token', responseJson.token);\n        await AsyncStorage.setItem('@user_id', responseJson.id.toString());\n        this.props.navigation.navigate('Home');\n      })\n\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    return (\n      <ScrollView>\n        <TextInput\n          placeholder=\"Email\"\n          onChangeText={(email) => this.setState({ email })}\n          value={this.state.email}\n          style={styles.input}\n        />\n        <TextInput\n          placeholder=\"Password\"\n          onChangeText={(password) => this.setState({ password })}\n          value={this.state.password}\n          secureTextEntry\n          style={styles.input}\n        />\n        <TouchableOpacity\n          style={styles.loginBtn}\n          onPress={() => {\n            this.login();\n          }}\n        >\n          <Text style={{ color: 'black' }}>LOGIN</Text>\n        </TouchableOpacity>\n        <TouchableOpacity\n          style={styles.signupBtn}\n          onPress={() => {\n            this.props.navigation.navigate('signup');\n          }}\n        >\n          <Text style={{ color: 'black' }}>SIGN UP</Text>\n        </TouchableOpacity>\n      </ScrollView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  input: {\n    height: 40,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10,\n    margin: 5,\n  },\n  loginBtn: {\n    alignItems: 'center',\n    backgroundColor: '#7649fe',\n    padding: 10,\n    margin: 5,\n    borderWidth: 2,\n  },\n  signupBtn: {\n    alignItems: 'center',\n    padding: 10,\n  },\n});\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}